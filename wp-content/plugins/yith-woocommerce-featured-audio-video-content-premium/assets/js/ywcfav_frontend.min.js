jQuery(document).ready(function(a){function n(n){n&&n.addClass("ywcfav_has_featured"),a(document).find(".woocommerce-product-gallery__trigger").addClass("ywcfav_has_featured")}function o(n){n&&n.removeClass("ywcfav_has_featured"),a(document).find(".woocommerce-product-gallery__trigger").removeClass("ywcfav_has_featured")}function e(n){var o=a(document).find(".flex-control-nav.flex-control-thumbs li").filter(":first-child");if(o.length){var e=o.innerHeight();o.find("img").attr("src",n).css("height",e)}}function t(a){var n={product_id:ywcfav_frontend_param.product_id,action:ywcfav_frontend_param.actions.get_featured_content};i(a,n)}function i(o,e){a(".images").block(_),a.ajax({type:"POST",url:ywcfav_frontend_param.ajax_url,data:e,dataType:"json",success:function(e){if(f=!1,e.result){o.before(e.template);var t=o.parent().find('div[class^="ywcfav_video"]'),i=o.parent().find('div[class^="ywcfav_audio"]'),d="";t.length&&(t.hasClass("ywcfav_video_modal_content")||t.css({"float":"left",width:a(".images").width()}),d=t.data("video_info")),i.length&&(i.css({"float":"left",width:a(".images").width()}),d=i.data("video_info")),n(o),r(),a("body").trigger("ywcfav_show_video_content_in_slider",[d])}else a(".images").unblock()}})}function d(a){var n=a.parent(),e=n.find('div[class^="ywcfav_video"]'),t=n.find('div[class^="ywcfav_audio"]'),i=!1;if(e.length){if(e.hasClass("host")){var d=e.data("video_id");"undefined"!=typeof d&&videojs(d).dispose()}i=!0,e.remove()}t.length&&(i=!0,t.remove()),i&&o(a)}function c(a,n,o){var e={product_id:n,video_id:o,action:ywcfav_frontend_param.actions.get_product_variation_video};i(a,e)}function r(){var n=a("a.ywcfav_video_show_modal"),o=a("a.ywcfav_audio_show_modal");o.venobox(),video=n.venobox()}var f=!1,_={message:null,overlayCSS:{background:"#fff",opacity:.6},ignoreIfBlocked:!0};a(document.body).on("ywcfav_init_featured_content",function(n){if(ywcfav_frontend_param.has_feature_content){var o=a(document).find(ywcfav_frontend_param.no_img_class_container);o.length||(o=a(document).find(ywcfav_frontend_param.img_class_container).filter(":first-child")),a(".variations_form.cart").length?a(".variations_form").on("reset_data",function(a){d(o),f||(f=!0,t(o))}).on("show_variation",function(a,n,e){d(o),"undefined"!=typeof n.video_variation&&(f||(f=!0,c(o,n.variation_id,n.video_variation)))}):t(o)}}).trigger("ywcfav_init_featured_content"),a("body").on("ywcfav_show_video_content_in_slider",function(n,o){var t={video_info:o,action:ywcfav_frontend_param.actions.get_video_image};a.ajax({type:"POST",url:ywcfav_frontend_param.ajax_url,data:t,dataType:"json",success:function(n){e(n.image_url),a(".images").unblock()}})}),a(document).on("click",".flex-control-nav.flex-control-thumbs li",function(e){a(this).is(":first-child")?n(!1):o(!1)}),r()});