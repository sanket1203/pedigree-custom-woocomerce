jQuery(document).ready(function(a){var e=!1,i=function(){var e=a("a.ywcfav_video_show_modal"),i=a("a.ywcfav_audio_show_modal");i.venobox(),e.venobox()},o=function(a){var e=a.find('div[class^="ywcfav_video"]'),i=a.find('div[class^="ywcfav_audio"]'),o=!1;if(e.hide(),i.hide(),e.size()){if(e.hasClass("host")){var d=e.data("video_id");"undefined"!=typeof d&&videojs(d).dispose()}e.remove(),o=!0}return i.size()&&(i.remove(),o=!0),o};if(ywcfav_frontend.zoom_magnifier_active&&!ywcfav_frontend.zoom_magnifier_exclude){var d=null,n=a("form.variations_form");a(".single_variation").on("show_variation",function(e,i){d=i;var o=a('div[class^="ywcfav_video"]'),n=a('div[class^="ywcfav_audio"]');o.removeClass("ywcfav_hide"),n.removeClass("ywcfav_hide")}),a(".single_variation").on("hide_variation",function(e){d=null;var i=a('div[class^="ywcfav_video"]'),o=a('div[class^="ywcfav_audio"]');i.removeClass("ywcfav_hide"),o.removeClass("ywcfav_hide")}),a(document).on("yith_magnifier_after_init_zoom",function(t){var f=a(".images"),_=f.find(".yith_magnifier_zoom_wrap:eq(0)"),s=a('div[class^="ywcfav_video"]'),c=a('div[class^="ywcfav_audio"]');if(s.hasClass("ywcfav_hide")||c.hasClass("ywcfav_hide"))e||(e=!0,_.removeClass("ywcfav_has_featured").show()),e=!1;else if(null!=d){if(!e)if(e=!0,"undefined"!=typeof d.video_variation){_.hide();var v={video_id:d.video_variation,product_id:d.variation_id,action:ywcfav_frontend.change_product_variation_image};o(f),a.ajax({type:"POST",data:v,url:ywcfav_frontend.admin_url,dataType:"json",success:function(a){o(f),_.addClass("ywcfav_has_featured").show(),_.after(a.template),i(),e=!1}})}else o(f),_.removeClass("ywcfav_has_featured").show(),e=!1}else if(n.length&&null==d&&!e){e=!0;var r=a('input:hidden[name="product_id"]').val(),v={product_id:r,action:ywcfav_frontend.reset_featured_video};a.ajax({type:"POST",data:v,url:ywcfav_frontend.admin_url,dataType:"json",success:function(a){o(f),"no_featured_content"===a.result?_.removeClass("ywcfav_has_featured").show():(_.addClass("ywcfav_has_featured").hide(),_.after(a.template)),i(),e=!1}})}}),a(document).on("click",".yith_magnifier_gallery li",function(e){var i=a('div[class^="ywcfav_video"]'),o=a('div[class^="ywcfav_audio"]');i.addClass("ywcfav_hide"),o.addClass("ywcfav_hide")}),"yes"==ywcfav_frontend.zoom_option&&(a(document).on("click",".ywcfav_item a.ywcfav_video_as_zoom",function(d){d.preventDefault();var n=a(this).data("product_id"),t=a(this).data("video_id"),f=a(".images"),_=f.find(".yith_magnifier_zoom_wrap:eq(0)");if(!e){e=!0;var s={video_id:t,product_id:n,action:ywcfav_frontend.change_video_in_featured};a.ajax({type:"POST",data:s,url:ywcfav_frontend.admin_url,dataType:"json",success:function(d){if(o(f),_.addClass("ywcfav_has_featured").hide(),_.after(d.template),i(),"video"==d.type){var n=a(".ywcfav_video_show_modal");n.length&&"yes"==ywcfav_frontend.video_autoplay&&n.click()}e=!1}})}}),a(document).on("click",".ywcfav_item a.ywcfav_audio_as_zoom",function(d){d.preventDefault();var n=a(this).data("product_id"),t=a(this).data("audio_id"),f=a(".images"),_=f.find(".yith_magnifier_zoom_wrap:eq(0)");if(!e){e=!0;var s={audio_id:t,product_id:n,action:ywcfav_frontend.change_audio_in_featured};a.ajax({type:"POST",data:s,url:ywcfav_frontend.admin_url,dataType:"json",success:function(d){if(o(f),_.addClass("ywcfav_has_featured").hide(),_.after(d.template),i(),"audio"==d.type){var n=a(".ywcfav_audio_show_modal");n.length&&"yes"==ywcfav_frontend.audio_autoplay&&n.click()}e=!1}})}}))}else{var t={message:null,overlayCSS:{background:"#fff",opacity:.6},ignoreIfBlocked:!0};a(".single_variation").on("show_variation",function(d,n){var f=a(".product .images"),_=f.find(">:first-child");if(!e)if(e=!0,"undefined"!=typeof n.video_variation){f.block(t);var s={video_id:n.video_variation,product_id:n.variation_id,action:ywcfav_frontend.change_product_variation_image};o(f),a.ajax({type:"POST",data:s,url:ywcfav_frontend.admin_url,dataType:"json",success:function(a){f.unblock(),_.hide(),o(f),_.addClass("ywcfav_has_featured").show(),_.after(a.template),i(),e=!1}})}else o(f),_.removeClass("ywcfav_has_featured").show(),e=!1}),a(".single_variation").on("hide_variation",function(d){var n=a(".product .images"),f=n.find(">:first-child");if(!e){e=!0,n.block(t);var _=a('input:hidden[name="product_id"]').val(),s={product_id:_,action:ywcfav_frontend.reset_featured_video};a.ajax({type:"POST",data:s,url:ywcfav_frontend.admin_url,dataType:"json",success:function(a){o(n),n.unblock(),"no_featured_content"===a.result?f.removeClass("ywcfav_has_featured").show():(f.addClass("ywcfav_has_featured").show(),f.after(a.template)),i(),e=!1}})}})}a("body").on("ywcfav-init",function(){i()}).trigger("ywcfav-init"),a(document).on("venobox-closed",function(){var e=a(".ywcfav_video_modal_content.host"),i=e.data("video_id");"undefined"!=typeof i&&videojs(i).dispose()})});